<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>For Apeksha ‚ù§Ô∏è</title>
<style>
  body {
    font-family: 'Arial', sans-serif;
    margin: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background: #ffafbd; /* Solid soft pink for better contrast */
    background: linear-gradient(135deg, #ffafbd, #ffc3a0);
    overflow: hidden;
  }

  .card {
    background: white;
    padding: 40px 20px;
    border-radius: 25px;
    text-align: center;
    width: 90%;
    max-width: 380px;
    box-shadow: 0 15px 30px rgba(0,0,0,0.2);
    z-index: 10;
  }

  h1 {
    font-size: 26px;
    color: #d63384;
    margin-bottom: 30px;
    font-weight: 800;
  }

  .button-container {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    height: 120px; /* Space for the button to move within */
    position: relative;
  }

  button {
    font-size: 18px;
    font-weight: bold;
    padding: 15px 25px;
    border: none;
    border-radius: 15px;
    cursor: pointer;
    transition: transform 0.2s;
  }

  #yes {
    background-color: #28a745;
    color: white;
    box-shadow: 0 4px 10px rgba(40, 167, 69, 0.3);
  }

  #no {
    background-color: #dc3545;
    color: white;
    position: relative; /* Starts normal, then we switch to absolute in JS */
    z-index: 5;
  }

  .final-screen img {
    width: 100%;
    border-radius: 15px;
    margin-bottom: 15px;
  }

  .floating-heart {
    position: absolute;
    font-size: 20px;
    pointer-events: none;
    animation: floatUp 5s linear infinite;
  }

  @keyframes floatUp {
    from { transform: translateY(100vh) rotate(0deg); opacity: 1; }
    to { transform: translateY(-10vh) rotate(360deg); opacity: 0; }
  }
</style>
</head>
<body>

<div class="card" id="card">
  <div id="main-content">
    <h1>üö® Valentine Alert! üö®<br>Apeksha, will you be mine? ü•∞</h1>
    <div class="button-container" id="area">
      <button id="yes">YES! üòç</button>
      <button id="no">No üò¢</button>
    </div>
  </div>
</div>

<audio id="noSound" src="https://www.myinstants.com/media/sounds/discord-notification.mp3"></audio>
<audio id="yesSound" src="https://www.myinstants.com/media/sounds/tada.mp3"></audio>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script>
const yesBtn = document.getElementById("yes");
const noBtn = document.getElementById("no");
const area = document.getElementById("area");
const card = document.getElementById("card");
const noSound = document.getElementById("noSound");
const yesSound = document.getElementById("yesSound");

let yesScale = 1;

function dodge() {
  // Play a "bloop" sound when she tries to click no
  noSound.currentTime = 0;
  noSound.play().catch(()=>{});

  // Switch to absolute positioning only when the dodge starts
  noBtn.style.position = 'absolute';

  // Calculate boundaries within the button area
  const maxX = area.clientWidth - noBtn.clientWidth;
  const maxY = area.clientHeight - noBtn.clientHeight;

  const randomX = Math.floor(Math.random() * maxX);
  const randomY = Math.floor(Math.random() * maxY);

  noBtn.style.left = randomX + 'px';
  noBtn.style.top = randomY + 'px';

  // Make Yes button grow!
  yesScale += 0.2;
  yesBtn.style.transform = `scale(${yesScale})`;
}

// Mobile and Desktop support
noBtn.addEventListener("mouseenter", dodge);
noBtn.addEventListener("touchstart", (e) => {
  e.preventDefault();
  dodge();
});

yesBtn.addEventListener("click", () => {
  yesSound.play();
  confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });

  card.innerHTML = `
    <div class="final-screen">
      <img src="apeksha.jpg" alt="Us" onerror="this.src='https://media.giphy.com/media/v1.Y2lkPTc5MGI3NjExOHpueGZ3bmZ3bmZ3bmZ3bmZ3bmZ3bmZ3bmZ3JmVwPXYxX2ludGVybmFsX2dpZl9ieV9pZCZjdD1n/l4pTdcifP3GDmXgzS/giphy.gif'">
      <h1 style="color: #ff2f68; margin: 0;">YAY APEKSHA! üíñ</h1>
      <p style="font-size: 18px; margin-top: 10px;">The best answer ever! <br> Get ready for a special day! üåπ</p>
    </div>
  `;
});

// Floating hearts in background
setInterval(() => {
  const heart = document.createElement("div");
  heart.className = "floating-heart";
  heart.innerHTML = Math.random() > 0.5 ? "‚ù§Ô∏è" : "üíñ";
  heart.style.left = Math.random() * 100 + "vw";
  heart.style.animationDuration = (Math.random() * 2 + 3) + "s";
  document.body.appendChild(heart);
  setTimeout(() => heart.remove(), 5000);
}, 500);
</script>

</body>
</html>
