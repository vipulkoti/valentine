<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Apeksha ‚ù§Ô∏è</title>
<style>
  body {
    font-family: 'Comic Sans MS', cursive;
    margin: 0;
    height: 100vh;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);
  }

  .card {
    background: white;
    padding: 30px;
    border-radius: 30px;
    text-align: center;
    width: 90%;
    max-width: 400px;
    box-shadow: 0 20px 50px rgba(255, 47, 104, 0.3);
    position: relative;
    z-index: 10;
    border: 4px solid #fff;
  }

  h1 {
    font-size: 26px;
    color: #ff2f68;
    margin-bottom: 20px;
  }

  .buttons {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    margin-top: 20px;
    min-height: 150px; /* Space for the runaway button */
  }

  button {
    font-size: 1.2rem;
    font-weight: bold;
    padding: 15px 30px;
    border: none;
    border-radius: 50px;
    cursor: pointer;
    transition: all 0.2s ease;
    box-shadow: 0 5px 15px rgba(0,0,0,0.1);
  }

  #yes {
    background: #44dd44;
    color: white;
    z-index: 100;
  }

  #no {
    background: #ff4444;
    color: white;
    position: absolute; /* Needed for the "runaway" effect */
  }

  .final-message {
    animation: pop 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
  }

  @keyframes pop {
    0% { transform: scale(0); }
    100% { transform: scale(1); }
  }

  .heart, .star {
    position: absolute;
    pointer-events: none;
    animation: floatUp 4s linear forwards;
  }

  @keyframes floatUp {
    0% { transform: translateY(0) rotate(0deg); opacity: 1; }
    100% { transform: translateY(-100vh) rotate(360deg); opacity: 0; }
  }
</style>
</head>
<body>

<div class="card" id="card">
  <div id="ui-content">
    <h1 id="question">üö® URGENT MESSAGE! üö®<br>Apeksha, will you be my Valentine? üíñ</h1>
    <div class="buttons" id="btnContainer">
      <button id="yes">YES! üòç</button>
      <button id="no">No ‚ùå</button>
    </div>
  </div>
</div>

<audio id="noSound" src="https://www.myinstants.com/media/sounds/discord-notification.mp3"></audio>
<audio id="sadSound" src="https://www.myinstants.com/media/sounds/spongebob-boe.mp3"></audio>
<audio id="yesSound" src="https://www.myinstants.com/media/sounds/cheer.mp3"></audio>
<audio id="bgMusic" src="https://assets.mixkit.co/music/preview/mixkit-bubbly-fun-123.mp3" loop></audio>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script>
const yesBtn = document.getElementById("yes");
const noBtn = document.getElementById("no");
const card = document.getElementById("card");
const bgMusic = document.getElementById("bgMusic");
const noSound = document.getElementById("noSound");
const sadSound = document.getElementById("sadSound");
const yesSound = document.getElementById("yesSound");

let noCount = 0;
const noTexts = [
  "Are you sure?", 
  "Pllleeeease? ü•∫", 
  "Apeksha, think again!", 
  "Wrong button! üòÇ", 
  "I'll buy you snacks! üçï", 
  "Look at the Green button! ‚û°Ô∏è"
];

// 1. RUNAWAY NO BUTTON LOGIC
const moveNo = () => {
  const x = Math.random() * (window.innerWidth - noBtn.offsetWidth);
  const y = Math.random() * (window.innerHeight - noBtn.offsetHeight);
  
  noBtn.style.position = 'fixed';
  noBtn.style.left = `${x}px`;
  noBtn.style.top = `${y}px`;
  
  // Change text and play "sad/oops" sound
  noBtn.innerText = noTexts[noCount % noTexts.length];
  noCount++;
  noSound.play();
  
  // Make the Yes button bigger every time she tries to click No
  const currentScale = 1 + (noCount * 0.1);
  yesBtn.style.transform = `scale(${currentScale})`;
};

noBtn.addEventListener("mouseover", moveNo);
noBtn.addEventListener("click", () => {
    sadSound.play();
    alert("Nice try, but No isn't an option! üòú");
});

// 2. YES BUTTON SUCCESS
yesBtn.addEventListener("click", () => {
  yesSound.play();
  bgMusic.pause(); // Stop background music to play victory sound
  
  // Mega Confetti
  const duration = 5 * 1000;
  const animationEnd = Date.now() + duration;
  const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 0 };

  const interval = setInterval(function() {
    const timeLeft = animationEnd - Date.now();
    if (timeLeft <= 0) return clearInterval(interval);
    const particleCount = 50 * (timeLeft / duration);
    confetti({...defaults, particleCount, origin: { x: Math.random(), y: Math.random() - 0.2 }});
  }, 250);

  card.innerHTML = `
    <div class="final-message">
      <h1 style="font-size: 40px;">YAYYY! ü•∞</h1>
      <img src="apeksha.jpg" alt="Love" style="width:100%; border-radius:20px; margin: 10px 0;">
      <p style="font-size: 20px; color: #ff2f68; font-weight: bold;">
        I KNEW YOU'D SAY YES! <br> Best Valentine's Day ever, Apeksha! üíñ‚ú®
      </p>
    </div>
  `;
});

// 3. AMBIANCE: Floating hearts background
setInterval(() => {
  const heart = document.createElement("div");
  heart.className = Math.random() > 0.5 ? "heart" : "star";
  heart.innerHTML = Math.random() > 0.5 ? "‚ù§Ô∏è" : "üíñ";
  heart.style.left = Math.random() * 100 + "vw";
  heart.style.top = "100vh";
  heart.style.fontSize = (Math.random() * 20 + 10) + "px";
  document.body.appendChild(heart);
  setTimeout(() => heart.remove(), 4000);
}, 300);

// Start music on first interaction
document.body.addEventListener('click', () => {
  bgMusic.play().catch(e => console.log("Music waiting for interaction"));
}, { once: true });

</script>
</body>
</html>
