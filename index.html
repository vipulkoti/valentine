<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Apeksha â¤ï¸</title>
<style>
  /* Clean, Readable Fonts */
  body {
    font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    margin: 0;
    height: 100vh;
    overflow: hidden;
    display: flex;
    justify-content: center;
    align-items: center;
    background: linear-gradient(135deg, #ff758c 0%, #ff7eb3 100%);
  }

  .card {
    background: white;
    padding: 40px;
    border-radius: 20px;
    text-align: center;
    width: 350px;
    min-height: 400px;
    box-shadow: 0 15px 35px rgba(0,0,0,0.2);
    position: relative;
    z-index: 10;
    display: flex;
    flex-direction: column;
    justify-content: center;
  }

  h1 {
    font-size: 28px;
    color: #d63384;
    margin-bottom: 30px;
    line-height: 1.4;
  }

  .button-container {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 20px;
    height: 100px;
    position: relative; /* Keeps the No button contained here */
  }

  button {
    font-size: 18px;
    font-weight: bold;
    padding: 12px 25px;
    border: none;
    border-radius: 12px;
    cursor: pointer;
    transition: transform 0.1s ease;
  }

  #yes {
    background-color: #28a745;
    color: white;
    z-index: 100;
  }

  #no {
    background-color: #dc3545;
    color: white;
    position: absolute; /* Moves relative to the button-container */
    transition: all 0.2s ease;
  }

  img {
    width: 100%;
    max-height: 250px;
    object-fit: cover;
    border-radius: 15px;
    margin-bottom: 20px;
  }

  .heart {
    position: absolute;
    color: rgba(255, 255, 255, 0.6);
    pointer-events: none;
    animation: floatUp 4s linear infinite;
  }

  @keyframes floatUp {
    0% { transform: translateY(100vh) scale(1); opacity: 1; }
    100% { transform: translateY(-10vh) scale(1.5); opacity: 0; }
  }
</style>
</head>
<body>

<div class="card" id="card">
  <div id="content-wrap">
    <h1 id="question">ğŸš¨ Valentine Alert! ğŸš¨<br>Apeksha, will you be mine? ğŸ¥°</h1>
    <div class="button-container" id="btn-area">
      <button id="yes">YES! ğŸ˜</button>
      <button id="no">No ğŸ˜¢</button>
    </div>
  </div>
</div>

<audio id="sadSound" src="https://www.myinstants.com/media/sounds/spongebob-fail.mp3"></audio>
<audio id="yesSound" src="https://www.myinstants.com/media/sounds/tada.mp3"></audio>
<audio id="bgMusic" src="https://assets.mixkit.co/music/preview/mixkit-bubbly-fun-123.mp3" loop></audio>

<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

<script>
const yesBtn = document.getElementById("yes");
const noBtn = document.getElementById("no");
const btnArea = document.getElementById("btn-area");
const card = document.getElementById("card");

const sadSound = document.getElementById("sadSound");
const yesSound = document.getElementById("yesSound");
const bgMusic = document.getElementById("bgMusic");

let yesScale = 1;

// FIX: This keeps the No button INSIDE the button-container so it never vanishes
function moveNo() {
  sadSound.currentTime = 0;
  sadSound.play().catch(() => {});

  // Get dimensions of the container
  const padding = 20;
  const maxWidth = btnArea.clientWidth - noBtn.clientWidth - padding;
  const maxHeight = btnArea.clientHeight - noBtn.clientHeight - padding;

  // Generate random position within the button container
  const newX = Math.random() * maxWidth;
  const newY = Math.random() * maxHeight;

  noBtn.style.left = `${newX}px`;
  noBtn.style.top = `${newY}px`;

  // Make Yes button grow so it's easier to hit
  yesScale += 0.15;
  yesBtn.style.transform = `scale(${yesScale})`;
}

// Event listeners for the runaway button
noBtn.addEventListener("mouseover", moveNo);
noBtn.addEventListener("touchstart", (e) => {
  e.preventDefault();
  moveNo();
});

// Yes Button Action
yesBtn.addEventListener("click", () => {
  yesSound.play();
  confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 } });

  card.innerHTML = `
    <img src="apeksha.jpg" alt="Us â¤ï¸" onerror="this.src='https://via.placeholder.com/300x250?text=I+Love+You'">
    <h1 style="color: #ff2f68;">YAY APEKSHA! ğŸ¥°ğŸ’˜</h1>
    <p style="font-size: 18px; color: #555;">The best choice ever! <br> Get ready for the best Valentine's! ğŸ«</p>
  `;
});

// Start background music on first interaction
window.addEventListener("click", () => {
  bgMusic.play().catch(() => {});
}, { once: true });

// Background floating hearts
setInterval(() => {
  const h = document.createElement("div");
  h.className = "heart";
  h.innerHTML = "â¤ï¸";
  h.style.left = Math.random() * 100 + "vw";
  h.style.fontSize = (Math.random() * 20 + 10) + "px";
  h.style.animationDuration = (Math.random() * 3 + 2) + "s";
  document.body.appendChild(h);
  setTimeout(() => h.remove(), 5000);
}, 400);

</script>
</body>
</html>
